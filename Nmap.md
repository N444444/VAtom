Анализирует компьютеры и устройства в сети. Проверяет [[Порты]]. Определяет работающие службы (например, веб-серверы или почтовые серверы).

### Сканирование одного хоста

Используйте следующую команду (поменять ip на требуемый):
```
nmap 192.168.1.1
```

Пример вывода:
![[Pasted image 20250210150902.png]]

Разбор вывода:

| Вывод                                                                                                   | Описание                                                                                                                                         |
| ------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| Host is up (0.00012s latency)                                                                           | Хост активен (задержка 0,00012с)                                                                                                                 |
| Not shown: 997 closed tcp ports (reset)                                                                 | Не показано: 997 закрытых tcp-портов (сброс)                                                                                                     |
| PORT    STATE SERVICE<br>135/tcp open  msrpc<br>139/tcp open  netbios-ssn<br>445/tcp open  microsoft-ds | ПОРТ     СОСТЯНИЕ   СЛУЖБА<br>135/tcp  open             msrpc<br>139/tcp  open             netbios-ssn<br>445/tcp  open             microsoft-ds |
| Nmap done: 1 IP address (1 host up) scanned in 6.14 seconds                                             | Nmap выполнен: 1 IP-адрес (1 подключенный хост) отсканирован за 6,14 секунды                                                                     |
- **PORT** — номер порта и протокол (TCP или UDP).
- **STATE** — состояние порта (open — открыт, closed — закрыт, filtered — фильтруется).
- **SERVICE** — программа или служба, работающая на этом порту.
### Сканирование нескольких хостов
```
nmap 192.168.1.1-192.168.1.10
```
Эта команда сканирует сеть айпи адресов начиная с 192.168.1.1 до 192.168.1.10.

Также в Nmap можно сканировать всю сеть:
```
nmap 192.168.1.0/24
```
Команда `nmap 192.168.1.0/24` сканирует все устройства в сети с адресами от `192.168.1.1` до `192.168.1.254`. `/24` — это так называемая маска подсети, которая означает, что сеть состоит из 256 адресов (включая сам адрес сети). Команда проверяет, какие устройства активны в этой сети, и какие порты на них открыты.
### Определение ОС хоста
```
sudo nmap -O 192.168.1.1
```
Может неправильно указывать версию ОС хоста. 
### Определение работающих программ
```
nmap -sV 192.168.1.1
```
Проверяет какие программы (службы) работают на открытых портах и какие версии этих программ используются. Если порт открыт, это значит, что на нём работает программа или служба, которая принимает подключения.
### Три техники сканирования
#### TCP SYN Scan
```
nmap -sS <ip-адрес>
```

- **Как работает:** Отправляется SYN (запрос на установку соединения). Если порт открыт, возвращается SYN+ACK, но соединение не завершается.
- **Когда использовать:** Быстрое и скрытное сканирование, подходит для обхода базовых фаерволов.

Если в общем то команда очень полезна для анонимного сканирования
#### TCP Connect Scan (полное сканирование)
```
nmap -sT <ip-адрес>
```

- **Как работает:** Устанавливает полноценное соединение (SYN, SYN+ACK, ACK).
- **Когда использовать:** Если полуоткрытое сканирование не работает (например, без прав администратора).

В общем: Команда используется при необходимости получить точные данные о доступных портах без использования скрытных методов.
#### FIN Scan
```
nmap -sF <ip-адрес>
```

- **Как работает:** Отправляется пакеты с флагом FIN (запрос на закрытие соединения). Если порт закрыт, устройство ответит RST (сброс соединения). Открытые порты обычно не отвечают.
- **Когда использовать:** Обход некоторых фаерволов, которые игнорируют FIN-пакеты.

Грубо говоря: Если вам нужно скрытное сканирование в сетях, где SYN Scan может быть заблокирован.
### Сканирование всех 65535 портов
```
nmap -p- <ip-адрес>
```